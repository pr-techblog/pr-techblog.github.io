<!DOCTYPE html><html><head><title>متد کاربردی Object.select</title><meta charset="utf-8" /><meta content='text/html; charset=utf-8' http-equiv='Content-Type'><meta http-equiv='X-UA-Compatible' content='IE=edge'><meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'><meta property="og:locale" content="fa_IR" /><meta property="og:site_name" content="پول ریکوئست" /><meta name="twitter:image" content="/assets/images/pr.svg" /><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="theme-color" content="#000"><meta property="og:type" content="article" /><meta name="description" content="همین چند لحظه پیش یکی از دوستانم در توییتر MValipour ایده ای رو باهام درمیون گذاشت مبنی بر اضافه کردن متدی به اسم Object.select که به نظرم خیلی کاربردی و جالب بود و تصمیم گرفتم تا تنور داغه تبدیلش کنم به یه مطلب توی بلاگ :p " /><meta property="og:description" content="همین چند لحظه پیش یکی از دوستانم در توییتر MValipour ایده ای رو باهام درمیون گذاشت مبنی بر اضافه کردن متدی به اسم Object.select که به نظرم خیلی کاربردی و جالب بود و تصمیم گرفتم تا تنور داغه تبدیلش کنم به یه مطلب توی بلاگ :p " /><meta name="twitter:card" content="summary" /><meta name="twitter:description" content="همین چند لحظه پیش یکی از دوستانم در توییتر MValipour ایده ای رو باهام درمیون گذاشت مبنی بر اضافه کردن متدی به اسم Object.select که به نظرم خیلی کاربردی و جالب بود و تصمیم گرفتم تا تنور داغه تبدیلش کنم به یه مطلب توی بلاگ :p " /><meta name="author" content="پول ریکوئست به قلم farzad" /><meta property="og:title" content="متد کاربردی Object.select" /><meta property="twitter:title" content="متد کاربردی Object.select" /><link rel="stylesheet" type="text/css" href="/style.css" /><link rel="alternate" type="application/rss+xml" title="پول ریکوئست - پول ریکوئست، دست نوشته های فنی فارسی زبان" href="/feed.xml" /> <script src="/pr.js"></script><body><div class="site__container"><header class="site__header container"><figure class="site__header__brand"> <a href="http://pullrequest.ir"> <img src="/assets/images/pr.svg" alt="PR"> </a></figure><nav class="site__header__nav"><ul class="list--unstyled list--inline header__list text--center"><li> <a href="/about">پول ریکوئست چیست</a><li> <a href="/pr-authors">نویسندگان</a><li> <a href="/contribute">راهنمای انتشار مطالب در پول ریکوئست</a></ul></nav></header><hr class="site__header__divider container" /><main role="main" class="container"><article class="post post--single"><h1 class="post__title post__title--single">متد کاربردی Object.select</h1><div class="post__info"> <span> <span class="lazyimage"> <img onload="window.pr.methods.addClass('img-loaded', this.parentNode)" onerror="window.pr.methods.addClass('img-error', this)" src="/assets/images/farzad.jpg" alt="فرزاد یوسف زاده" class="img-rounded post__info__figure inline--middle" > </span> <span class="inline--middle post__author"><a href="http://pullrequest.ir/authors/farzad">فرزاد یوسف زاده</a></span> </span> <small><em>1396-1-19</em></small></div><div class="post__share text--left"><ul class="list--unstyled list--inline"><li><a class="button button--with-icon" target="_blank" href="https://twitter.com/intent/tweet?url=/%D9%85%D8%AA%D8%AF-%DA%A9%D8%A7%D8%B1%D8%A8%D8%B1%D8%AF%DB%8C-Object.select/&via=http://pullrequest.ir&text=متد کاربردی Object.select"> <i class="icon pricon-twitter"></i> توییتر </a><li><a class="button button--with-icon" target="_blank" href="https://telegram.me/share/url?url=http://pullrequest.ir/%D9%85%D8%AA%D8%AF-%DA%A9%D8%A7%D8%B1%D8%A8%D8%B1%D8%AF%DB%8C-Object.select/"> <i class="icon pricon-telegram"></i> تلگرام </a></ul><nav class="post__tags post__tags--single"> <i class="icon pricon-tag"></i><ul class="list--unstyled list--inline"><li><a href="/tag/javascript">#Javascript</a><li><a href="/tag/object">#Object</a><li><a href="/tag/جاوااسکریپت">#جاوااسکریپت</a><li><a href="/tag/کاربردی">#کاربردی</a><li><a href="/tag/es6">#ES6</a></ul></nav></div><div class="post__entry post__entry--single"><p>همین چند لحظه پیش یکی از دوستانم در توییتر <a href="https://twitter.com/mvalipour" target="_blank">MValipour</a> ایده ای رو باهام درمیون گذاشت مبنی بر اضافه کردن متدی به اسم <code class="highlighter-rouge">Object.select</code> که به نظرم خیلی کاربردی و جالب بود و تصمیم گرفتم تا تنور داغه تبدیلش کنم به یه مطلب توی بلاگ :p<p>توی نسخه ES۶ عبارت <strong>const</strong> به جاوااسکریپت اضافه شد. هم چنین پترنهایی برای انتخاب آیتم های مورد نیاز از آبجکت ها هم به جی اس اضافه شد به نام <strong>Destructing Pattern</strong>. توی این مطلب نمیخام واردش بشم و میتونین جستجوش کنین. خیلی کاربردیه بهتون قول میدم :)<p>اما چیزی که توی این پترن وجود داره به صورت زیره: فرض کنین یه آبجکت داریم که هویت یه انسان رو نشون میده:<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">const</span> <span class="nx">john</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s1">'john'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">age</span><span class="p">:</span> <span class="mi">25</span>
<span class="p">}</span></code></pre></figure><p>الگوی Destructive توی ES6 بهمون اجازه میده در صورتی که مثلا فقط به اسم و سن این انسان نیاز داریم، فقط همونا رو ازش استخراج کنیم:<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">const</span> <span class="nx">john</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s1">'john'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">age</span><span class="p">:</span> <span class="mi">25</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">}</span> <span class="o">=</span> <span class="nx">john</span>
<span class="c1">// name == 'john', age == 25</span></code></pre></figure><p>ولی این طرز استخراج آیتم های مورد نظر از یه آبجکت، زمانی که تعداد آیتم ها بالا میره و آبجکت بزرگ میشه خیلی خسته کننده و کثیف میشه. خوب میشد اگر متدی مثل <code class="highlighter-rouge">Object.select</code> وجود داشت که بهش آبجکتمون و آیتم هایی که ازش نیاز داریم رو پاس میدادیم و برامون همینکار رو انجام میداد:<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">const</span> <span class="nx">john</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s1">'john'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">age</span><span class="p">:</span> <span class="mi">25</span>
<span class="p">}</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">select</span> <span class="o">=</span> <span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">...</span><span class="nx">keys</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="c1">// If the key is an array, apply on all of it's items</span>
  <span class="kd">const</span> <span class="nx">apply</span> <span class="o">=</span> <span class="nx">key</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">key</span> <span class="k">instanceof</span> <span class="nb">Array</span> <span class="p">?</span>
      <span class="nx">key</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">apply</span><span class="p">)</span> <span class="p">:</span>
      <span class="nx">result</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span>
  <span class="p">}</span>

  <span class="nx">apply</span><span class="p">(</span><span class="nx">keys</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">result</span>
<span class="p">}</span>

<span class="c1">// before:</span>
<span class="kd">const</span> <span class="p">{</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">}</span> <span class="o">=</span> <span class="nx">john</span>

<span class="c1">// after:</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="nx">john</span><span class="p">,</span> <span class="s1">'name'</span><span class="p">,</span> <span class="s1">'age'</span><span class="p">)</span></code></pre></figure><h2 id="چرا-از-johnselect-استفاده-نکنیم">چرا از <code class="highlighter-rouge">john.select</code> استفاده نکنیم؟</h2><p>ممکنه سوال پیش بیاد چرا این متد رو به <code class="highlighter-rouge">Object.prototype</code> اضافه نکردیم تا راحت تر بتونیم از <code class="highlighter-rouge">john.select('name', 'age')</code> استفاده کنیم.<p>درسته که در این صورت خیلی راحت تر میشه اما این به نظرم یه آنتی پترنه. یه گفته ی قدیمی هست که میگه:<blockquote><p>Don’t mess around with objects that are’nt yours</blockquote><h2 id="پکیج-این-متد-در-npm">پکیج این متد در NPM</h2><p>میتونین برای استفاده از این پکیج و متد در محیط Node از لینک زیر به مخزن رسمی اش در گیتهاب استفاده کنین: <a href="https://github.com/mvalipour/object-select" title="Object.Select" target="_blank">Object.Select Official repository</a> —<p>خوشحال میشم ایده هاتون رو در مورد این متد توی کامنت ها ببینم تا فیبدک هامون رو به هم منتقل کنیم. اگر از خوندن این مطلب لذت بردین میتونین اونو با دیگران به اشتراک بزارید. همینطور میتونین از سایر مطالب بلاگ هم استفاده کنین و یا اگر دوس داشته باشید، کنارمون بنویسید. برای راهنمای انتشار مطلب در پول ریکوئست میتونین <a href="http://pullrequest.ir/contribute" title="راهنمای انتشار مطلب در پول ریکوئست">از این لینک</a> استفاده کنین.</div><div class="post__share text--center"><ul class="list--unstyled list--inline"><li><a class="button button--with-icon" target="_blank" href="https://twitter.com/intent/tweet?url=/%D9%85%D8%AA%D8%AF-%DA%A9%D8%A7%D8%B1%D8%A8%D8%B1%D8%AF%DB%8C-Object.select/&via=http://pullrequest.ir&text=متد کاربردی Object.select"> <i class="icon pricon-twitter"></i> توییتر </a><li><a class="button button--with-icon" target="_blank" href="https://telegram.me/share/url?url=http://pullrequest.ir/%D9%85%D8%AA%D8%AF-%DA%A9%D8%A7%D8%B1%D8%A8%D8%B1%D8%AF%DB%8C-Object.select/"> <i class="icon pricon-telegram"></i> تلگرام </a></ul></div><script> window.pr.methods.docReady(function() { var singleEntry = window.pr.methods.selectElementByClassName('.post__entry--single'); var excerptEntry = window.pr.methods.selectElementByClassName('.post__excerpt'); if (singleEntry) window.pr.methods.parseTextForEmojis(singleEntry); else if (excerptEntry) window.pr.methods.parseTextForEmojis(excerptEntry); }) </script><hr /><div class="comments"><div id="disqus_thread"></div><script async defer src='https://pwl-rykhwyst.disqus.com/embed.js' onerror="disqusHandler();"></script> <script type="text/javascript"> var disqusHandler = (function (w) { var methods = w.pr.methods; /* methods.docReady(function () { loadDisqusScript() }); function loadDisqusScript() { methods.getAjax('https://pwl-rykhwyst.disqus.com/embed.js', null, function (e) { addDisqusErrorIfNotPresent(); // Parse any emoji inside error methods.parseTextForEmojis(document.getElementById('comment__error')); }) } */ function addDisqusErrorIfNotPresent() { var comments = methods.selectElementByClassName('.comments'); /* Add only for the 1st time */ if (!methods.selectElementById('comment__error')) { /* Add error to .comments */ comments.appendChild(createDisqusError()); /* Parse any emoji inside error */ methods.parseTextForEmojis(document.getElementById('comment__error')); } } function createDisqusError() { var err = document.createElement('div'); err.id = 'comment__error'; window.pr.methods.addClass('alert', err); err.innerHTML = 'اگر این پیام رو میبینین، به این معنیه که اسکریپت Disqus براتون لود نشده. سرویس Disqus توی ایران فیلتر شده!! <strong>لطفا وی پی ان تون رو روشن کنین و صفحه فعلی رو ریفرش کنین.</strong> :پی'; return err; } return addDisqusErrorIfNotPresent; })(window); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></article></div><footer class="site__footer clearfix"><div class="site__footer__brand" onclick="window.pr.methods.goToTop()"> <img class="img-block" src="/assets/images/pr.svg" alt="PR"></div><div class="container clearfix"><nav class="pull-right site__footer__menu"><ul class="list--unstyled list--inline site__footer__list"><li> <a target="_blank" href="https://github.com/pr-techblog"> <i class="icon pricon-github"></i> گیتهاب </a><li> <a target="_blank" href="https://twitter.com/pr_techblog"> <i class="icon pricon-twitter"></i> توییتر </a></ul></nav><div class="pull-left text--ltr site__footer__copyright">Made with ❦ @ <strong>PullRequest</strong></div></div></footer></div><script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-93910742-1', 'auto'); ga('send', 'pageview', { 'page': '/%D9%85%D8%AA%D8%AF-%DA%A9%D8%A7%D8%B1%D8%A8%D8%B1%D8%AF%DB%8C-Object.select/', 'title': 'متد کاربردی Object.select' }); </script>
